#include "test.h"

MAIN("line0\n\nline2\nline3\n",
    char *data;
    bint_t data_len;

    buffer_replace(buf, 0, 1, "BL", 2);
    buffer_get(buf, &data, &data_len);
    ASSERT("rpl1", 0, strncmp(data, "BLineA\n\nline2\nline3\n", data_len));

    buffer_replace(buf, 0, 7, "bline0\n", 7);
    buffer_get(buf, &data, &data_len);
    ASSERT("rpl1", 0, strncmp(data, "bline0\n\nline2\nline3\n", data_len));

    buffer_replace(buf, 5, 4, "jerk\nstuff", 10);
    buffer_get(buf, &data, &data_len);
    ASSERT("nl", 0, strncmp(data, "blinejerk\nstuffine2\nline3\n", data_len));

    buffer_replace(buf, 10, 16, "X", 1);
    buffer_get(buf, &data, &data_len);
    ASSERT("oob", 0, strncmp(data, "blinejerkX", data_len));
)
